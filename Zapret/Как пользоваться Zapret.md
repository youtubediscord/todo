---
he: "3500"
---


> [!danger] ВАЖНО!
> Перед тем как начать им пользоваться, Вы должны скачать его. Подробнее о том как его скачать описано в файле [[Как скачать Zapret]] (файл можно скачать [здесь](https://t.me/zaprethelp/3/1012))

## Словарь терминов (глоссарий)
Прежде чем начать давайте познакомимся с базовыми определениями:
- `NFQUEUE` – модуль ядра Linux, который позволяет передавать сетевые пакеты из сетевого стека ядра для обработки в пользовательском пространстве.
- `netfilter` – межсетевой экран (брандмауэр), встроен в ядро Linux с версии 2.4. 
- [`nfqws`](https://github.com/Anonym-tsk/nfqws-keenetic) –  программа-модификатор пакетов в проекте `Zapret`. Использует встроенные возможности `linux` (в данном случае `NFQUEUE`).
- [`WinDivert`](https://github.com/basil00/WinDivert) – китайский драйвер для `Windows` который позволяет быстро командами манипулировать трафиком (*аналог `nfqws` для `Windows`*)
- `Системы DPI анализа трафика` или сокращённо `DPI` (в России название – `ТСПУ`) – 
- [`Zapret`](https://github.com/bol-van/zapret) – программа по манипуляции трафикам путём шифрования пакетов стека `TCP/IP` (*разделения, запутывания, перестановки местами*) с использованием программы `nfqws` (*для `linux`*) или алгоритмов драйвера `WinDivert` (*для `Windows`*)
	- [`winws.exe`](https://github.com/bol-van/zapret-win-bundle/) – сборка Zapret (альтернативная версия) для систем `Windows` (*написана автором bol-van на `c++`*)
	- [[Как пользоваться Zapret#Blockcheck|Blockcheck]] – программа для автоматического подбора стратегий для `Zapret` 
- [`Zapret GUI`](https://t.me/bypassblock) – программа для `Windows`, которая позволяет быстро передавать аргументы в программу-ядро `winws.exe` (*написана автором censorliber на `python`*)
- `Стратегия` – строчка состоящая из нескольких аргументов, которая понимает программа `Zapret` и `winws.exe` (например `--dpi-desync=fake,fakedsplit --dpi-desync-autottl=2 --dpi-desync-fooling=md5sig`)
	- `Пресет` – несколько таких стратегий, которые собраны в единую логику работы программы `Zapret` (в формате `bat` файлов, например для `winwse.exe` или просто как аргументы командой строки)
- `bat режим` – старая логика работы программы Zapret GUI, которая работала через стандартный `bat` файлы в системах семейства `Windows` (*как правило внутри бат файлов имеется готовый `пресет` со своим "выдуманным" названием – например* `alt2`, `Все сайты` *и так далее*)
	- `Прямой режим` – новая логика работы программы `Zapret GUI`, которая напрямую работает с аргументами программы `winws.exe` и передаёт их через GUI интерфейс программы (*без посредников в лице сторонних файлов. Т..е здесь Вы собираете пресет сами из готового набора стратегий для каждого сайта по отдельности*)

## Режимы работы программы
### bat режим
По умолчанию программа работает в `bat` режиме. Это значит что запускаются `bat` файлы, которые лежат по пути в папке help – `C:\ProgramData\Zapret\help`

По умолчанию запущена стратегия `Alt 2`, но она с 90% вероятностью у Вас не заработает. Поэтому Вам следует нажать сюда:

![[Pasted image 20250928201233.png]]

После чего откроется меню выбора стратегий:

![[Pasted image 20250928201301.png]]

Здесь Вы можете выбрать 2 по списку стратегию, после чего нажать кнопку `Выбрать`

![[Pasted image 20250928201421.png]]

Окно не закроется – но стратегия применится.

> Если стратегия не заработала – продолжайте перебирать все 80+ стратегий, какая-то из них должна заработать.

Если ни одна из стратегий не заработала – вам следует попробовать [[Как пользоваться Zapret#Как переключиться на `Прямой запуск`|Прямой запуск]].

### Как переключиться на `Прямой запуск`
Для этого нужно перейти в `Настройки` и далее выбрать `Прямой запуск`. Окно после этого перезапустится.

![[Pasted image 20250928201737.png]]

## Прямой запуск
Окно перезапустится – в результате чего нужно нажать кнопку `Выбрать`:

![[Pasted image 20250928201849.png]]

В данном случае применится другой тип стратегий – напрямую собираем стратегию индивидуальную для каждого сайта в один пресет. Это удобнее так как позволяет настроить ресурсы индивидуально под себя, не перебирая все подряд стратегии для всех сайтов.

Если это не помогло – выберите нужный вам ресурс:

![[Pasted image 20250928201959.png]]

- `YouTube TCP` – грузит основной сайт https://www.youtube.com. Выберите эту вкладку если не работает сам сайт.
- `YouTube QUIC` – грузит основной сайт ютуба через протокол QUIC.  Можно включить или выключить его в браузере через `about:flags`. Иногда помогает его выключить чтобы перебрать большее количество стратегий для `YOUTUBE TCP`.
- `GoogleVideo` – иногда бывает что сам сайт YouTube грузится, а плеер – нет (то есть видео показывает бесконечное колесо прокрутки). Тогда эта вкладка может Вам помочь, так как содержит ЕЩЁ несколько дополнительных стратегий чисто для плеера YouTube.
- `Discord` – грузит основной сайт https://discord.com а также приложение.
- `Discord Voice` – соответственно голосовые звонки.
- `Update Discord` – иногда сам сайт Discord.com грузится, а приложение нет. В таком случае Вы можете скачать приложение напрямую через [ссылку](https://discord.com/api/downloads/distributions/app/installers/latest?channel=stable&platform=win&arch=x64) или пробить обновления Дискорда отдельно через эту вкладку.
- `SoundCloud`, `GitHub`, `Rutacker`, `NtcParty`, `Twitch`, `Speedtest`, `Itch.io` нужны для пробитая своих сайтов соответственно.
- `Phasmophobia UDP` нужно для того чтобы игра заработала.
- `Hostlist (HTTPS)` – пробивает все остальные сайты которые добавлены в списки `Hostlist` (это текстовые файлы `other.txt`, `other2.txt`).
- `Hostlist (HTTP)` – аналогично, но только для сайтов `http:\\` (80 порт).
- `IPset TCP (GAMES)` – вкладка нужна для игр, сервисов Cloudflare, Amazon и других провайдеров. Иногда помогает играм.
- `IPset UDP (GAMES)` – аналогично для игр, только для основного игрового процесса.

Перебор стратегий происходит аналогично `bat` режиму – выбрали стратегию – нажали `Выбрать`. Если стратегия не помогает – пробуем следующую.

![[Pasted image 20250928203036.png]]

Если **ВСЕ** стратегии из какой-то вкладки не помогают – включите/выключите параметр `wssize` в настройках запуска. И ещё раз попробуйте все стратегии с ним/без него:

![[Pasted image 20250928202909.png]]

Эти действия в 99% случаев помогут пробить необходимый сайт. Удачи!

---
## [Blockcheck](https://t.me/zapretblockcheck)
☄️ Blocheck - автоматический подбор и перебор ВСЕХ стратегий Запрета для обхода блокировки Discord или YouTube

Полезно для тех у кого НЕ работает какой-то сайт со ВСЕМИ стоковыми стратегиями из Zapret GUI.

❓ Инструкция
1. Создать папку blockcheck
2. Вытащить из zip архива на рабочий стол всё содержимое архива
3. Перейти в папку blockcheck
4. Запустить blockcheck.cmd
5. Дождаться остановки тестирования (это будет долго около 1 часа, НЕ закрывайте консоль иначе придётся начинать с самого начала).
6. Скинуть результаты из лога файла по пути blockcheck.log нам в комментарии.

По этим логам мы построим новые стратегии для дискорда.


> [!NOTE] ⚠️ Совет
> Для пущей убедительности вы можете открыть https://discord.com или любой другой сайт в браузере - если он прогрузит на какой-то стратегии - значит она наиболее эффективна.

Это последнее что мы можем вам посоветовать в запрете - если у вас ничего не работает. Более запрет не имеет других стратегий для обхода. 

Через этот способ Вы переберёте сразу ВСЁ!

---
## #Проблема У меня не работает игра с Zapret (большой пинг)
Если это ваша проблема, Вы обязаны включить прямой запуск, в `bat` режиме это работать **НЕ** будет! (*как его включить описано выше*)

Далее перейдите во вкладку `Ipset TCP` и выключите её:

![[Pasted image 20251015000043.png]]

Сделаете аналогичные действия для `IPset UDP`:

![[Pasted image 20251015000119.png]]

Перейдите в `Настройки` и включите `ОЧЕНЬ аккуратный режим (лайтовый)`:

![[Pasted image 20251015000151.png]]

После нажмите кнопку `Выбрать` или `Применить`. В 99% случаев это исправит пинг в игре!

---
## #Вопрос Какая стратегия лучше всего? / У меня сломался Zapret после ваших обновлений
Запрет не может перестать работать, это не ВПН сервис. И его невозможно заблокировать.

Можно только изменить и улучшить алгоритмы ТСПУ чтобы они могли расшифровать зашифрованный трафик, который генерирует Запрет. Но это не значит что новые методы десинхронизации Вам не помогут – наоборот они должны помочь. Меняйте стратегии в пресетах и получайте доступ ко всем сайтам как и раньше!

При новых обновлениях СТАРЫЕ алгоритмы и стратегии не меняются – только добавляются новые. Поэтому никакое обновление не может сломать работу запрета, это наш фундаментальный принцип, за которым мы строго следим.

Также часто возникает вопрос: `Какая конфигурация для запрета точно работает?`. Правильный ответ — никакая. Не существует универсального рецепта, который гарантированно будет работать у всех, всегда и везде. zapret — это не кнопка "сделать хорошо", а сложный инструмент, успех которого зависит от огромного количества переменных на стороне пользователя.

Наиболее вероятная причина – ваш интернет-провайдер обновил свои системы ТСПУ DPI (Deep Packet Inspection). Именно эти системы анализируют ваш трафик. После обновления DPI ваша ранее работавшая стратегия обхода могла стать "видимой" для провайдера и перестать быть эффективной.

---

![[ZapretTeam]]